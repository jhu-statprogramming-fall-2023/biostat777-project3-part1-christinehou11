<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="jpeg">
<title>Example_analysis • jpeg</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Hedvig_Letters_Serif-0.4.7/font.css" rel="stylesheet">
<link href="../deps/Open_Sans-0.4.7/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Example_analysis">
<meta property="og:description" content="jpeg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">jpeg</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1-10</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Example_analysis.html">Example_analysis</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/s-u/jpeg/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Example_analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/s-u/jpeg/blob/HEAD/vignettes/Example_analysis.Rmd" class="external-link"><code>vignettes/Example_analysis.Rmd</code></a></small>
      <div class="d-none name"><code>Example_analysis.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"jpeg"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.rforge.net/jpeg/" class="external-link">jpeg</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="data-wrangling">Data Wrangling<a class="anchor" aria-label="anchor" href="#data-wrangling"></a>
</h3>
<p>The source showing Cocktail data for analysis comes from TidyTuesday,
<a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2020/2020-05-26" class="external-link">May
26th 2020</a>. There are totally 2 different <code>.csv</code> data on
the website, but I only choose one of them for personal preferences.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Test if a directory named data exists locally</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># saves data only once </span></span>
<span><span class="va">files</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tuesdata_cocktails.rda"</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data"</span>,<span class="va">files</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">tuesdata</span> <span class="op">&lt;-</span> <span class="fu">tidytuesdayR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tidytuesdayR/man/tt_load.html" class="external-link">tt_load</a></span><span class="op">(</span><span class="st">'2020-05-26'</span><span class="op">)</span></span>
<span>    <span class="va">cocktails</span> <span class="op">&lt;-</span> <span class="va">tuesdata</span><span class="op">$</span><span class="va">cocktails</span></span>
<span></span>
<span>    <span class="co"># save the files to RDA objects</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/save.html" class="external-link">save</a></span><span class="op">(</span><span class="va">cocktails</span>, file <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data"</span>,<span class="st">"tuesdata_cocktails.rda"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Let’s have a quick look at the dataset.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># load the data</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fu">load</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>,<span class="st">"tuesdata_cocktails.rda"</span>)) <span class="co">#cocktails</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>n_unique <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">length</span>(<span class="fu">unique</span>(x))</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>purrr<span class="sc">::</span><span class="fu">map_int</span>(<span class="at">.x =</span> cocktails, </span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>        <span class="at">.f =</span> n_unique)</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>           row_id             drink     date_modified          id_drink </span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>              <span class="dv">546</span>               <span class="dv">546</span>               <span class="dv">546</span>               <span class="dv">546</span> </span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>        alcoholic          category       drink_thumb             glass </span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>                <span class="dv">5</span>                <span class="dv">11</span>               <span class="dv">546</span>                <span class="dv">36</span> </span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>              iba             video ingredient_number        ingredient </span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>                <span class="dv">4</span>                 <span class="dv">1</span>                <span class="dv">12</span>               <span class="dv">333</span> </span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>          measure </span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a>              <span class="dv">435</span> </span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>purrr<span class="sc">::</span><span class="fu">map_chr</span>(<span class="at">.x =</span> cocktails, </span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>        <span class="at">.f =</span> typeof)</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>           row_id             drink     date_modified          id_drink </span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>         <span class="st">"double"</span>       <span class="st">"character"</span>          <span class="st">"double"</span>          <span class="st">"double"</span> </span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a>        alcoholic          category       drink_thumb             glass </span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a>      <span class="st">"character"</span>       <span class="st">"character"</span>       <span class="st">"character"</span>       <span class="st">"character"</span> </span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a>              iba             video ingredient_number        ingredient </span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a>      <span class="st">"character"</span>         <span class="st">"logical"</span>          <span class="st">"double"</span>       <span class="st">"character"</span> </span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a>          measure </span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a>      <span class="st">"character"</span> </span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(cocktails))</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span></code></pre></div>
<p>Notice that there exists NA values in the dataset, so be careful
afterwards in visualizations.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">dim</span>(cocktails)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2104</span>   <span class="dv">13</span></span></code></pre></div>
<p>There are totally 2104 rows and 13 variables in the dataset.</p>
<p>Here is a data dictionary for what all the column names mean.</p>
<ul>
<li>
<a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2020/2020-05-26#cocktailscsv" class="external-link uri">https://github.com/rfordatascience/tidytuesday/tree/master/data/2020/2020-05-26#cocktailscsv</a>:~:text=Data%20Dictionary-,cocktails,-.csv</li>
</ul>
<p>In this analysis, I would like to know <strong>How does the number of
ingredients used related to the different categories of alcoholic
cocktail drinks?</strong></p>
</div>
<div class="section level3">
<h3 id="visualization">Visualization<a class="anchor" aria-label="anchor" href="#visualization"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>cocktails <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>  <span class="fu">filter</span>(alcoholic <span class="sc">==</span> <span class="st">"Alcoholic"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>  <span class="fu">select</span>(drink)<span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>  <span class="fu">nrow</span>()</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">478</span></span></code></pre></div>
<p>We only consider alcoholi cocktails in this sample analysis, and
there are 478 types of alcoholic drinks included.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>df1 <span class="ot">=</span> cocktails <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>  <span class="fu">filter</span>(alcoholic <span class="sc">==</span> <span class="st">"Alcoholic"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>  <span class="fu">select</span>(category,drink, ingredient, ingredient_number) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">"ingredient_number"</span>,</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>              <span class="at">values_from =</span> <span class="st">"ingredient"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>  <span class="fu">group_by</span>(category) <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>df1</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="co"># A tibble: 10 × 2 [39m</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a>   category                 n</span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a>    [3m [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="sc">&lt;</span>chr<span class="sc">&gt;</span> [39m [23m                 [3m [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="sc">&lt;</span>int<span class="sc">&gt;</span> [39m [23m</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">1</span> [39m Beer                    <span class="dv">13</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">2</span> [39m Cocktail                <span class="dv">57</span></span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">3</span> [39m Coffee <span class="sc">/</span> Tea            <span class="dv">17</span></span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">4</span> [39m Homemade Liqueur        <span class="dv">12</span></span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">5</span> [39m Milk <span class="sc">/</span> Float <span class="sc">/</span> Shake    <span class="dv">11</span></span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">6</span> [39m Ordinary Drink         <span class="dv">272</span></span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">7</span> [39m Other<span class="sc">/</span>Unknown           <span class="dv">12</span></span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">8</span> [39m Punch <span class="sc">/</span> Party Drink     <span class="dv">25</span></span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">9</span> [39m Shot                    <span class="dv">49</span></span>
<span id="cb8-22"><a href="#cb8-22" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m10 [39m Soft Drink <span class="sc">/</span> Soda       <span class="dv">10</span></span>
<span id="cb8-23"><a href="#cb8-23" tabindex="-1"></a></span>
<span id="cb8-24"><a href="#cb8-24" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span></span>
<span id="cb8-25"><a href="#cb8-25" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb8-26"><a href="#cb8-26" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> category, <span class="at">y =</span> n),</span>
<span id="cb8-27"><a href="#cb8-27" tabindex="-1"></a>           <span class="at">fill =</span> <span class="st">"#66c2a5"</span>) <span class="sc">+</span></span>
<span id="cb8-28"><a href="#cb8-28" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb8-29"><a href="#cb8-29" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Number of Drinks in Alcoholic Cocktail Categories"</span>,</span>
<span id="cb8-30"><a href="#cb8-30" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Ordinary Drink has the most count among all alcoholic drink categories</span><span class="sc">\n</span><span class="st">Milk/Float/Shake has the least count"</span>,</span>
<span id="cb8-31"><a href="#cb8-31" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Category"</span>,</span>
<span id="cb8-32"><a href="#cb8-32" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb8-33"><a href="#cb8-33" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Christine Hou"</span></span>
<span id="cb8-34"><a href="#cb8-34" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb8-35"><a href="#cb8-35" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb8-36"><a href="#cb8-36" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="Example_analysis_files/figure-html/unnamed-chunk-8-1.png" width="672"></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>df2 <span class="ot">=</span> cocktails <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="fu">filter</span>(alcoholic <span class="sc">==</span> <span class="st">"Alcoholic"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="fu">select</span>(drink, category,ingredient, ingredient_number) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  <span class="fu">group_by</span>(drink) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">num_ing =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>  <span class="fu">group_by</span>(num_ing) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">num =</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage =</span> num<span class="sc">/</span><span class="fu">sum</span>(num)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">num_ing =</span> <span class="fu">as.factor</span>(num_ing))</span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>df2</span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="co"># A tibble: 11 × 3 [39m</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>   num_ing   num percentage</span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a>    [3m [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="sc">&lt;</span>fct<span class="sc">&gt;</span> [39m [23m    [3m [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="sc">&lt;</span>int<span class="sc">&gt;</span> [39m [23m       [3m [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> [39m [23m</span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">1</span> [39m <span class="dv">1</span>           <span class="dv">3</span>      <span class="fl">0.628</span></span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">2</span> [39m <span class="dv">2</span>          <span class="dv">77</span>     <span class="fl">16.1</span>  </span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">3</span> [39m <span class="dv">3</span>         <span class="dv">156</span>     <span class="fl">32.6</span>  </span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">4</span> [39m <span class="dv">4</span>         <span class="dv">107</span>     <span class="fl">22.4</span>  </span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">5</span> [39m <span class="dv">5</span>          <span class="dv">76</span>     <span class="fl">15.9</span>  </span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">6</span> [39m <span class="dv">6</span>          <span class="dv">42</span>      <span class="fl">8.79</span> </span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">7</span> [39m <span class="dv">7</span>           <span class="dv">8</span>      <span class="fl">1.67</span> </span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">8</span> [39m <span class="dv">8</span>           <span class="dv">6</span>      <span class="fl">1.26</span> </span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">9</span> [39m <span class="dv">9</span>           <span class="dv">1</span>      <span class="fl">0.209</span></span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m10 [39m <span class="dv">11</span>          <span class="dv">1</span>      <span class="fl">0.209</span></span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m11 [39m <span class="dv">12</span>          <span class="dv">1</span>      <span class="fl">0.209</span></span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a>  </span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a>df2 <span class="sc">%&gt;%</span></span>
<span id="cb9-28"><a href="#cb9-28" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb9-29"><a href="#cb9-29" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> percentage, <span class="at">fill =</span> num_ing),</span>
<span id="cb9-30"><a href="#cb9-30" tabindex="-1"></a>           <span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb9-31"><a href="#cb9-31" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>, <span class="at">start=</span><span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb9-32"><a href="#cb9-32" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb9-33"><a href="#cb9-33" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Ingredients Used in Alcoholic Drinks"</span>,</span>
<span id="cb9-34"><a href="#cb9-34" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Most alcoholic drinks use 2-5 ingredients"</span>,</span>
<span id="cb9-35"><a href="#cb9-35" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Christine Hou"</span>,</span>
<span id="cb9-36"><a href="#cb9-36" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Number of Ingredients"</span>)</span></code></pre></div>
<p><img src="Example_analysis_files/figure-html/unnamed-chunk-9-1.png" width="672"></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>df3 <span class="ot">=</span> cocktails <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  <span class="fu">filter</span>(alcoholic <span class="sc">==</span> <span class="st">"Alcoholic"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>  <span class="fu">select</span>(drink, category,ingredient, ingredient_number) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>  <span class="fu">group_by</span>(drink,category) <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">num_ing =</span> <span class="fu">n</span>(),</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>df3</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="co"># A tibble: 478 × 3 [39m</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a>   drink                                category             num_ing</span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a>    [3m [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="sc">&lt;</span>chr<span class="sc">&gt;</span> [39m [23m                                 [3m [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="sc">&lt;</span>chr<span class="sc">&gt;</span> [39m [23m                   [3m [<span class="dv">38</span>;<span class="dv">5</span>;246m<span class="sc">&lt;</span>int<span class="sc">&gt;</span> [39m [23m</span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a> [<span class="dv">38</span>;<span class="dv">5</span>;250m <span class="dv">1</span> [39m <span class="st">'57 Chevy with a White License Plate Cocktail                   2</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a><span class="st"> [38;5;250m 2 [39m 1-900-FUK-MEUP                       Shot                       8</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a><span class="st"> [38;5;250m 3 [39m 110 in the shade                     Beer                       2</span></span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a><span class="st"> [38;5;250m 4 [39m 151 Florida Bushwacker               Milk / Float / Shake       8</span></span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a><span class="st"> [38;5;250m 5 [39m 155 Belmont                          Cocktail                   4</span></span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a><span class="st"> [38;5;250m 6 [39m 24k nightmare                        Shot                       4</span></span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a><span class="st"> [38;5;250m 7 [39m 252                                  Shot                       2</span></span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a><span class="st"> [38;5;250m 8 [39m 3 Wise Men                           Shot                       3</span></span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a><span class="st"> [38;5;250m 9 [39m 3-Mile Long Island Iced Tea          Ordinary Drink             8</span></span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a><span class="st"> [38;5;250m10 [39m 410 Gone                             Ordinary Drink             1</span></span>
<span id="cb10-22"><a href="#cb10-22" tabindex="-1"></a><span class="st"> [38;5;246m# ℹ 468 more rows [39m</span></span>
<span id="cb10-23"><a href="#cb10-23" tabindex="-1"></a></span>
<span id="cb10-24"><a href="#cb10-24" tabindex="-1"></a><span class="st">df3 %&gt;%</span></span>
<span id="cb10-25"><a href="#cb10-25" tabindex="-1"></a><span class="st">  ggplot() +</span></span>
<span id="cb10-26"><a href="#cb10-26" tabindex="-1"></a><span class="st">  geom_boxplot(aes(x = category, y = num_ing)) +</span></span>
<span id="cb10-27"><a href="#cb10-27" tabindex="-1"></a><span class="st">  facet_wrap(~category, scales = "free") +</span></span>
<span id="cb10-28"><a href="#cb10-28" tabindex="-1"></a><span class="st">  theme_minimal() +</span></span>
<span id="cb10-29"><a href="#cb10-29" tabindex="-1"></a><span class="st">  coord_cartesian(ylim = c(0,13)) +</span></span>
<span id="cb10-30"><a href="#cb10-30" tabindex="-1"></a><span class="st">  labs(</span></span>
<span id="cb10-31"><a href="#cb10-31" tabindex="-1"></a><span class="st">    x = "Category",</span></span>
<span id="cb10-32"><a href="#cb10-32" tabindex="-1"></a><span class="st">    y = "Number of Ingredients",</span></span>
<span id="cb10-33"><a href="#cb10-33" tabindex="-1"></a><span class="st">    title = "Number of Ingredients Used in Alcoholic Drinks",</span></span>
<span id="cb10-34"><a href="#cb10-34" tabindex="-1"></a><span class="st">    subtitle = "Drinks belonging to Homemade Liqueur category has the highest number of ingredients (12)</span><span class="sc">\n</span><span class="st">Drinks belonging to Cocktail and Ordinary Drink category has the least number of ingredients (1)",</span></span>
<span id="cb10-35"><a href="#cb10-35" tabindex="-1"></a><span class="st">    caption = "Christine Hou"</span></span>
<span id="cb10-36"><a href="#cb10-36" tabindex="-1"></a><span class="st">  )</span></span></code></pre></div>
<p><img src="Example_analysis_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
<p>We can use the functions in <code>jpeg</code> to display the picture
of the cocktail. For example, the alcoholic drink with 12 ingredients
belonging to <strong>Homemade Liqueur</strong> category is</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">url</span> <span class="op">=</span> <span class="va">cocktails</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">category</span> <span class="op">==</span> <span class="st">"Homemade Liqueur"</span>,</span>
<span>         <span class="va">ingredient_number</span> <span class="op">==</span> <span class="fl">12</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">drink_thumb</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="st">"homemade.jpg"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span><span class="va">url</span>,</span>
<span>              destfile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/homemade.jpg"</span><span class="op">)</span>,</span>
<span>              mode <span class="op">=</span> <span class="st">"wb"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">myjpeg_array</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readJPEG.html">readJPEG</a></span><span class="op">(</span>source <span class="op">=</span> <span class="st">"homemade.jpg"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">10</span>,<span class="fl">0</span><span class="op">:</span><span class="fl">10</span>,type<span class="op">=</span><span class="st">"n"</span>,ann<span class="op">=</span><span class="cn">FALSE</span>,axes<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rasterImage.html" class="external-link">rasterImage</a></span><span class="op">(</span><span class="va">myjpeg_array</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">6</span>,<span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<p><img src="Example_analysis_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>We can also rewrite the jpg to higher quality if the plot itself is
not clear.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">img</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readJPEG.html">readJPEG</a></span><span class="op">(</span><span class="st">"homemade.jpg"</span><span class="op">)</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/writeJPEG.html">writeJPEG</a></span><span class="op">(</span><span class="va">img</span>, <span class="fu"><a href="https://rdrr.io/r/base/raw.html" class="external-link">raw</a></span><span class="op">(</span><span class="op">)</span>, quality<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">img2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readJPEG.html">readJPEG</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">10</span>,<span class="fl">0</span><span class="op">:</span><span class="fl">10</span>,type<span class="op">=</span><span class="st">"n"</span>,ann<span class="op">=</span><span class="cn">FALSE</span>,axes<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rasterImage.html" class="external-link">rasterImage</a></span><span class="op">(</span><span class="va">img2</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">6</span>,<span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<p><img src="Example_analysis_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h3>
<p>There are totally 478 alcoholic drinks, and Ordinary Drink is the
most common category. Every drink contains different ingredients inside,
and most drinks contain 3-5 ingredients inside. Drinks belonging to
Homemade Liqueur category has the highest number of ingredients which is
12, and some drinks belonging to Cocktail and Ordinary Drink category
has the least number of ingredients which is 1.</p>
</div>
<div class="section level3">
<h3 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h3>
<ul>
<li>
<p><code>purrr</code></p>
<ul>
<li><p>map_int()</p></li>
<li><p>map_chr()</p></li>
</ul>
</li>
<li>
<p><code>jpeg</code></p>
<ul>
<li><p>readJPEG()</p></li>
<li><p>writeJPEG()</p></li>
</ul>
</li>
<li>
<p><code>dplyr</code>, <code>tidyr</code>, <code>lubridate</code>,
<code>stringr</code>, or <code>forcats</code></p>
<ul>
<li><p>filter()</p></li>
<li><p>select()</p></li>
<li><p>summarize()</p></li>
<li><p>group_by()</p></li>
<li><p>mutate()</p></li>
<li><p>pull()</p></li>
<li><p>pivot_wider()</p></li>
</ul>
</li>
<li>
<p><code>ggplot2</code></p>
<ul>
<li><p>geom_bar()</p></li>
<li><p>geom_col()</p></li>
<li><p>geom_boxplot()</p></li>
<li><p>facet_wrap()</p></li>
</ul>
</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Simon Urbanek.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
